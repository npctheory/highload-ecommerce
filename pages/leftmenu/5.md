---
title: 5. Схемы/архитектура
layout: page
has_children: false
nav_order: 500
---
## 5. Архитектура
![Архитектура](/highload-itemshop/assets/images/fullscheme.png)


Схема архитектуры представляет собой систему интернет-магазина внутриигровых предметов, интегрированную с игровой инфраструктурой. Основные компоненты включают:

1. Веб-фронтенд (проект src/Web): Пользовательский интерфейс магазина.

2. API Gateway (src/Web/nginx.conf): Центральный вход для всех API-запросов, распределяющий их между микросервисами.

3. Микросервисы:
   - Сервис каталогов (/api/catalogs, проект src/Catalogs)
   - Сервис заказов (/api/orders, проект src/Orders)
   - Сервис платежей (/api/payment, проект src/Payment)
   - Сервис аутентификации (/api/auth, проект src/Authentication)

4. Базы данных:
   - БД Каталогов
   - БД Заказов
   - БД Игрового сервера

5. Процессоры платежей: Обрабатывают транзакции через сервис платежей.

6. Шина RabbitMQ: Обеспечивает асинхронную коммуникацию между сервисами.

7. Воркер обновления инвентаря: Синхронизирует данные между магазином и игровой базой данных.

8. Существующая инфраструктура (Legacy Infrastructure):
   - Игровой клиент
   - Серверы: авторизации (loginserver), персонажей (charserver), локаций (mapserver)
   - БД игрового сервера (проект db/rathena_mysql)

